”
sC:\Users\vikyr\source\Repos\MicroservicesTeamC\ProyectoGrupoC\GrupoC.Estanteria\Controllers\EstanteriaController.cs
	namespace 	
GrupoC
 
. 

Estanteria 
. 
Controllers '
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class  
EstanteriaController %
:& '
ControllerBase( 6
{		 
private

 
readonly

 
IEstanteriaProvider

 ,
estanteriaProvider

- ?
;

? @
public  
EstanteriaController #
(# $
IEstanteriaProvider$ 7
estanteriaProvider8 J
)J K
{ 	
this 
. 
estanteriaProvider #
=$ %
estanteriaProvider& 8
;8 9
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAsync) 1
(1 2
string2 8
id9 ;
); <
{ 	
var 
result 
= 
await 
estanteriaProvider 1
.1 2
GetAsnyc2 :
(: ;
id; =
)= >
;> ?
if 
( 
result 
!= 
null 
) 
return  &
Ok' )
() *
result* 0
)0 1
;1 2
return 
NotFound 
( 
) 
; 
} 	
} 
} †
hC:\Users\vikyr\source\Repos\MicroservicesTeamC\ProyectoGrupoC\GrupoC.Estanteria\DAL\EstanteriaContext.cs
	namespace 	
GrupoC
 
. 

Estanteria 
. 
DAL 
{ 
public 

class 
EstanteriaContext "
:" #
	DbContext# ,
{ 
public 
EstanteriaContext  
(  !
DbContextOptions! 1
<1 2
EstanteriaContext2 C
>C D
optionsE L
)L M
:		 	
base		
 
(		 
options		 
)		 
{

 	
} 	
public 
DbSet 
< 
Estanterias  
>  !
Estanterias" -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
} 
} ó
iC:\Users\vikyr\source\Repos\MicroservicesTeamC\ProyectoGrupoC\GrupoC.Estanteria\DAL\EstanteriaProvider.cs
	namespace 	
GrupoC
 
. 

Estanteria 
. 
DAL 
{ 
public 

class 
EstanteriaProvider #
:$ %
IEstanteriaProvider& 9
{ 
private 
List 
< 
Estanterias  
>  !
estanterias" -
=. /
new0 3
(4 5
)5 6
;6 7
public 
EstanteriaProvider !
(! "
)" #
{		 	
estanterias

 
.

 
Add

 
(

 
new

 
Estanterias

  +
(

+ ,
)

, -
{

. /
Id

0 2
=

3 4
$str

5 8
,

8 9
Name

: >
=

? @
$str

A W
,

W X
	Capacidad

Y b
=

c d
$num

e f
}

g h
)

h i
;

i j
estanterias 
. 
Add 
( 
new 
Estanterias  +
(+ ,
), -
{. /
Id0 2
=3 4
$str5 8
,8 9
Name: >
=? @
$strA X
,X Y
	CapacidadZ c
=d e
$numf h
}h i
)i j
;j k
estanterias 
. 
Add 
( 
new 
Estanterias  +
(+ ,
), -
{. /
Id0 2
=3 4
$str5 8
,8 9
Name: >
=? @
$strA W
,W X
	CapacidadY b
=c d
$nume g
}g h
)h i
;i j
estanterias 
. 
Add 
( 
new 
Estanterias  +
(+ ,
), -
{. /
Id0 2
=3 4
$str5 8
,8 9
Name: >
=? @
$strA T
,T U
	CapacidadV _
=` a
$numb d
}d e
)e f
;f g
} 	
public 
async 
Task 
< 
Estanterias %
>% &
GetAsnyc' /
(/ 0
string0 6
id7 9
)9 :
{ 	
var 
customer 
= 
estanterias &
.& '
FirstOrDefault' 5
(5 6
x6 7
=>8 :
x; <
.< =
Id= ?
==@ B
idC E
)E F
;F G
return 
await 
Task 
. 

FromResult (
(( )
customer) 1
)1 2
;2 3
} 	
} 
} 
jC:\Users\vikyr\source\Repos\MicroservicesTeamC\ProyectoGrupoC\GrupoC.Estanteria\DAL\IEstanteriaProvider.cs
	namespace 	
GrupoC
 
. 

Estanteria 
. 
DAL 
{ 
public 

	interface 
IEstanteriaProvider (
{ 
Task 
< 
Estanterias 
> 
GetAsnyc "
(" #
string# )
id* ,
), -
;- .
} 
}		 Õ
zC:\Users\vikyr\source\Repos\MicroservicesTeamC\ProyectoGrupoC\GrupoC.Estanteria\Migrations\20221018125354_InitialCreate.cs
	namespace 	
GrupoC
 
. 

Estanteria 
. 

Migrations &
{ 
public 

partial 
class 
InitialCreate &
:' (
	Migration) 2
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
type. 2
:2 3
$str4 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
	Capacidad 
= 
table  %
.% &
Column& ,
<, -
int- 0
>0 1
(1 2
type2 6
:6 7
$str8 =
,= >
nullable? G
:G H
falseI N
)N O
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str #
)# $
;$ %
}   	
}!! 
}"" š
eC:\Users\vikyr\source\Repos\MicroservicesTeamC\ProyectoGrupoC\GrupoC.Estanteria\Models\Estanterias.cs
	namespace 	
GrupoC
 
. 

Estanteria 
. 
Models "
{ 
public 

class 
Estanterias 
{ 
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public		 
int		 
	Capacidad		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
}

 
} ö
ZC:\Users\vikyr\source\Repos\MicroservicesTeamC\ProyectoGrupoC\GrupoC.Estanteria\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
SecretClientOptions 
options 
= 
new !
SecretClientOptions" 5
(5 6
)6 7
{ 
Retry 	
=
 
{ 
Delay 
= 
TimeSpan 
. 
FromSeconds #
(# $
$num$ %
)% &
,& '
MaxDelay 
= 
TimeSpan 
. 
FromSeconds '
(' (
$num( *
)* +
,+ ,

MaxRetries 
= 
$num 
, 
Mode 
= 
	RetryMode 
. 
Exponential $
} 
} 
; 
var 
client 

= 
new 
SecretClient 
( 
new !
Uri" %
(% &
$str& M
)M N
,N O
newP S"
DefaultAzureCredentialT j
(j k
)k l
,l m
optionsn u
)u v
;v w
KeyVaultSecret 
secret 
= 
client 
. 
	GetSecret (
(( )
$str) F
)F G
;G H
string 
secretValue 
= 
secret 
. 
Value !
;! "
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder   
.   
Services   
.   
	AddScoped   
<   
IEstanteriaProvider   .
,  . /
EstanteriaProvider  0 B
>  B C
(  C D
)  D E
;  E F
builder!! 
.!! 
Services!! 
.!! 
AddDbContext!! 
<!! 
EstanteriaContext!! /
>!!/ 0
(!!0 1
options!!1 8
=>!!9 ;
options"" 
."" 
UseSqlServer"" (
(""( )
secretValue"") 4
)""4 5
)## 
;## 
var&& 
app&& 
=&& 	
builder&&
 
.&& 
Build&& 
(&& 
)&& 
;&& 
if)) 
()) 
app)) 
.)) 
Environment)) 
.)) 
IsDevelopment)) !
())! "
)))" #
)))# $
{** 
app++ 
.++ 

UseSwagger++ 
(++ 
)++ 
;++ 
app,, 
.,, 
UseSwaggerUI,, 
(,, 
),, 
;,, 
}-- 
app00 
.00 
UseAuthorization00 
(00 
)00 
;00 
app22 
.22 
MapControllers22 
(22 
)22 
;22 
app44 
.44 
Run44 
(44 
)44 	
;44	 
